<!DOCTYPE html>
<html>
<head>
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>
<body class="p-4 bg-light">
    <div class="container">
        <h2 class="mb-4">🔐 Admin Dashboard</h2>

        <h4>👥 Registered Users</h4>
        <ul class="list-group mb-4">
            {% for user in users %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                {{ user }}
                <form action="{{ url_for('delete_user', username=user) }}" method="post" style="margin:0;">
                    <button class="btn btn-danger btn-sm">Delete User</button>
                </form>
            </li>
            {% endfor %}
        </ul>

        <h4>📁 Uploaded Files</h4>
        <ul class="list-group mb-4">
            {% for username, filename, token in files %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                {{ filename }} <small>(by {{ username }}) - Token: {{ token }}</small>
                <form action="{{ url_for('delete_file', username=username, filename=filename) }}" method="post" style="margin:0;">
                    <button class="btn btn-warning btn-sm">Delete File</button>
                </form>
            </li>
            {% endfor %}
        </ul>

        <h4>📊 Download Logs</h4>
        <ul class="list-group">
            {% for username, filename, timestamp in downloads %}
            <li class="list-group-item">
                {{ username }} downloaded <strong>{{ filename }}</strong> at <em>{{ timestamp }}</em>
            </li>
            {% endfor %}
        </ul>

        <br>
        <a href="/" class="btn btn-primary mt-4">⬅️ Back to Home</a>
    </div>
</body>
</html>
